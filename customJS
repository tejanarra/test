(()=>{"use strict";var e={779:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),o=n.n(r),s=n(314),i=n.n(s)()(o());i.push([e.id,".custom-panel-header {\n    color: black;\n    cursor: pointer;\n    background: #bfbfbf;\n  border-radius: 8px;\n  border-style: solid;\n  border-color: #e0e0e0;\n  border-width: 0px 0px 1px 0px;\n  padding: 12px 16px 12px 16px;\n  display: flex;\n  flex-direction: row;\n  gap: 12px;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  height: 64px;\n  position: relative;\n  overflow: hidden;\n}\n\n.custom-panel-sucess {\n    color: black;\n    cursor: pointer;\n    background: #77b336;\n  border-radius: 8px;\n  border-style: solid;\n  border-color: #e0e0e0;\n  border-width: 0px 0px 1px 0px;\n  padding: 12px 16px 12px 16px;\n  display: flex;\n  flex-direction: row;\n  gap: 12px;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  height: 64px;\n  position: relative;\n  overflow: hidden;\n}\n\n.step-label {\n    display: flex;\n    align-items: center;\n    width: 100%; /* Ensure full width */\n}\n\n/* Only apply space-between if there's a toggle icon */\n.step-label.justify-content-between {\n    justify-content: space-between;\n}\n\n.step-number {\n    background-color: #d0d0d0;\n    color: black;\n    font-weight: 400;\n    border-radius: 50%;\n    width: 25px;\n    height: 25px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 10px;\n    font-size: 14px;\n}\n\n.step-number-sucess {\n    background-color: #add261;\n    color: black;\n    font-weight: 400;\n    border-radius: 50%;\n    width: 25px;\n    height: 25px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 10px;\n    font-size: 14px;\n}\n\n/* Style for the toggle icon */\n.toggle-icon {\n    font-size: 12px;\n    transition: transform 0.3s;\n    margin-left: auto; /* Push the icon to the far right */\n}\n\n/* Optional: Style for panel content */\n.panel-content {\n    padding: 10px;\n    border: 1px solid #ddd;\n    border-top: none;\n    border-radius: 0 0 5px 5px;\n}\n",""]);const a=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);r&&i[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),t.push(p))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},i=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],p=s[c]||0,d="".concat(c," ").concat(p);s[c]=p+1;var u=n(d),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var h=o(m,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var a=n(s[i]);t[a].references--}for(var l=r(e,o),c=0;c<s.length;c++){var p=n(s[c]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}s=l}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;const r=[{weight:1,type:"textfield",label:"Step Number",tooltip:"Step Number to be displayed on Panel Header",key:"stepNumber",input:!0,defaultValue:1},{weight:2,type:"textfield",label:"CSS for Header",tooltip:"Custom CSS for Panel Header",key:"headerCSS",input:!0,defaultValue:"custom-panel-header"},{weight:3,type:"textfield",label:"CSS for Step Number",tooltip:"Custom CSS for Step Number",key:"stepNumberCSS",input:!0,defaultValue:"step-number"}],o=Formio.Components.components.panel.editForm;function s(...e){return o([{key:"display",components:r}],...e)}var i=n(72),a=n.n(i),l=n(825),c=n.n(l),p=n(659),d=n.n(p),u=n(56),m=n.n(u),h=n(540),f=n.n(h),b=n(113),v=n.n(b),y=n(779),g={};g.styleTagTransform=v(),g.setAttributes=m(),g.insert=d().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=f(),a()(y.A,g),y.A&&y.A.locals&&y.A.locals;const x=Formio.Components.components.panel;Formio.Templates.defaultTemplates.myTemplate={form:function(e){let t,n="";return Array.prototype.join,n+='<div class="mb-2 card border panel-with-step">\n  ',(!e.component.hideLabel||e.builder||e.component.collapsible||e.component.tooltip)&&(n+='\n  <div class="'+e.component.headerCSS+'"\n    ',e.component.collapsible&&(n+='\n    tabindex="0"\n    '),n+='\n    role="button"\n    aria-expanded="'+(0==(t=!e.component.collapsible||!e.collapsed)?"":t)+'"\n    aria-controls="'+(null==(t=e.instance.id)?"":t)+"-"+(null==(t=e.component.key)?"":t)+'"\n    ref="header"\n  >\n    ',n+='<div class="step-label d-flex align-items-center '+(e.component.collapsible?"justify-content-between":"")+'">\n<div class="'+e.component.stepNumberCSS+'">'+(null==(t=e.component.stepNumber)?"":t)+'</div>\n  <span class="ml-2">'+(null==(t=e.component.title||"Step Panel")?"":t)+"</span>\n",e.component.collapsible&&(n+='  <div class="toggle-icon" style="transform: '+(e.collapsed?"rotate(180deg)":"rotate(0deg)")+';">\n<i class="fa fa-chevron-down" \n          })"></i>  </div>\n'),n+="</div>\n",n+="\n  </div>\n"),n+="\n  ",e.collapsed&&!e.builder||(n+='\n  <div class="card-body" ref="'+(null==(t=e.nestedKey)?"":t)+'" id="'+(null==(t=e.instance.id)?"":t)+"-"+(null==(t=e.component.key)?"":t)+'">\n    '+(null==(t=e.children)?"":t)+"\n  </div>\n  "),n+="\n</div>\n",n}};class C extends x{static editForm=s;static schema(...e){return x.schema({type:"customPanel",label:"Custom Panel",key:"customPanel",stepNumber:"1",headerCSS:"custom-panel-header",stepNumberCSS:"step-number",title:"Custom Panel",theme:"default",breadcrumb:"default",components:[],clearOnHide:!1,input:!1,tableView:!1,persistent:!1,...e})}static get builderInfo(){return{title:"Custom Panel",icon:"list-alt",group:"basic",documentation:"/userguide/form-building/layout-components#panel",showPreview:!1,weight:0,schema:C.schema()}}get templateName(){return"myTemplate"}set visible(e){const t=this._visible!==e;this._visible=e;const n=this.visible,r=this.shouldForceShow(),o=this.shouldForceHide();this.components.forEach((e=>{e.parentVisible=n;const t=e.conditionallyVisible();r||t?e.visible=!0:!o&&n&&t||(e.visible=!1),e.visible||(e.error="")})),t&&(this.clearOnHide(),this.redraw())}get visible(){return super.visible}constructor(...e){super(...e),this.handleNextClick=this.handleNextClick.bind(this),this.validatePanel=this.validatePanel.bind(this),this.focusOnComponent=this.focusOnComponent.bind(this),this.setAlert=this.setAlert.bind(this),this.showErrors=this.showErrors.bind(this)}handleNextClick(){const e=this.validatePanel();if(e.length>0){this.setAlert("danger",e,{classes:"alert alert-danger"});const t=e[0].component;return t&&this.focusOnComponent(t.key),!1}return this.emit("next"),!0}validatePanel(){const e=[],t=n=>{n.forEach((n=>{if(n.columns&&n.columns.forEach((e=>{e.components&&e.components.forEach((e=>{t([e])}))})),!n.columns&&!n.components){const t=this.getComponent(n.key);t&&(t.checkValidity()||(e.push({message:`${n.label||n.key} is required.`,component:t,componentKey:n.key}),t.element.classList&&(t.element.className+=" formio-error-wrapper",t.element.classList.add("formio-error-wrapper"),console.log("Field",t))))}}))};return this.component&&this.component.components&&t(this.component.components),e}focusOnComponent(e){if(e){const t=this.getComponent(e);t&&t.focus()}}setAlert(e,t,n){if(!e&&this.submitted)return void(this.alert&&(this.refs.errorRef&&this.refs.errorRef.length&&this.refs.errorRef.forEach((e=>{this.removeEventListener(e,"click"),this.removeEventListener(e,"keypress")})),this.removeChild(this.alert),this.alert=null));if(this.options.noAlerts)return void(t||this.emit("error",!1));if(this.alert)try{this.refs.errorRef&&this.refs.errorRef.length&&this.refs.errorRef.forEach((e=>{this.removeEventListener(e,"click"),this.removeEventListener(e,"keypress")})),this.removeChild(this.alert),this.alert=null}catch(e){}if(t){if(!Array.isArray(t))if("string"==typeof t)t=[{message:t,componentKey:null}];else{if("object"!=typeof t||null===t)return void console.error("Invalid message format passed to setAlert.");t=Object.keys(t).map((e=>({message:t[e],componentKey:e})))}const r={class:n&&n.classes||`alert alert-${e}`,id:`error-list-${this.id}`},o={message:`\n        <p>Please fix the following errors before submitting.</p>\n        <ul>\n            ${t.map((e=>`\n      <li>\n          <span data-component-key="${e.componentKey||"no-key"}" ref="errorRef" tabindex="0" role="link">\n              ${e.message}\n          </span>\n      </li>\n    `)).join("")}\n        </ul>\n      `,attrs:r,type:e};this.alert=utils.convertStringToHTMLElement(this.renderTemplate("alert",o),`#${r.id}`)}if(!this.alert)return;this.loadRefs(this.alert,{errorRef:"multiple"});const r=Array.from(this.refs.errorRef||[]);r.length>0&&r.forEach((e=>{this.addEventListener(e,"click",(e=>{const t=e.currentTarget.dataset.componentKey;this.focusOnComponent(t)})),this.addEventListener(e,"keydown",(e=>{if(13===e.keyCode){e.preventDefault();const t=e.currentTarget.dataset.componentKey;this.focusOnComponent(t)}}))})),this.prepend(this.alert)}showErrors(e,t){if(this.loading=!1,Array.isArray(e)||(e=[e]),!(e=(e=_.union(e,this.errors)).concat(this.customErrors).filter((e=>!!e))).length)return void this.setAlert(!1);e.forEach((e=>{const{components:t=[]}=e;e.component&&t.push(e.component),e.path&&t.push(e.path),t.forEach((t=>{const n=Array.isArray(t)?utils.getStringFromComponentPath(t):t,r=this.getComponent(t,_.identity,n);e.fromServer&&(r.serverErrors?r.serverErrors.push(e):r.serverErrors=[e]),_.compact(Array.isArray(r)?r:[r]).forEach((t=>t.setCustomValidity(e.message,!0)))}))}));const n=[];e.forEach((({message:e,component:t,context:r,fromServer:o},s)=>{const i=t?.key||r?.path||err.context?.component&&err.context?.component.key||err.fromServer&&err.path,a=i?utils.getStringFromComponentPath(i):"";n.push({message:unescapeHTML(e),keyOrPath:a})}));const r=this.renderTemplate("errorsList",{errors:n});return this.root.setAlert("danger",r),t&&this.emit("error",e),e}}Formio.use([{components:{customPanel:C}}])})();
